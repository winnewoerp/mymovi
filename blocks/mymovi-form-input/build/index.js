(()=>{"use strict";var e,t={93:(e,t,n)=>{const a=window.wp.blocks,l=window.React,o=window.wp.i18n,m=window.wp.blockEditor,r=window.wp.components;var i=n(11);function s(e){const{type:t,name:n,label:a}={type:{key:"text"},name:"",label:"",...e};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"mymovi-form-field input-field type-"+t.key},(0,l.createElement)("label",null,a," ",(0,l.createElement)("br",null),c(e))),(0,l.createElement)("div",{id:"mymovi-"+n+"-subfields"},(0,l.createElement)(m.InnerBlocks,null)))}function c(e){const{type:t,name:n,options:a,option_texts:m,minlength:r,maxlength:s,min:c,max:u,step:p,required:y}={type:{key:"text",name:(0,o.__)("Text","mymovi")},name:"",options:[],option_texts:[],minlength:0,maxlength:0,min:0,max:0,step:0,required:!1,...e},d="mymovi-field-"+n;switch(t.key){case"text":return(0,l.createElement)("input",{type:"text",name:d,minLength:r,maxLength:s,required:y,"data-mymovi-show-subfields":!0,onInput:e=>{(0,i.h)(n,e.target)}});case"textarea":return(0,l.createElement)("textarea",{name:d,minLength:r,maxLength:s,required:y,"data-mymovi-show-subfields":!0,onInput:e=>{(0,i.h)(n,e.target)}});case"number":return(0,l.createElement)("input",{type:"number",name:d,min:c,max:u,required:y,"data-mymovi-show-subfields":!0,onInput:e=>{(0,i.h)(n,e.target)}});case"range":const e=[];for(let t=0;t<a.length;t++)e.push((0,l.createElement)("option",{key:t,value:a[t]},t<m.length?m[t]:a[t]));return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("input",{type:"range",id:"range-"+n,name:d,min:c,max:u,step:p,list:"datalist-"+n,"data-mymovi-show-subfields":!0,onInput:e=>{(0,i.h)(n,e.target)}}),(0,l.createElement)("datalist",{id:"datalist-"+n},e));case"select":const t=[];for(let e=0;e<a.length;e++)t.push((0,l.createElement)("option",{key:e,value:a[e]},e<m.length?m[e]:a[e]));return(0,l.createElement)("select",{name:d,required:y,"data-mymovi-show-subfields":!0,onInput:e=>{(0,i.h)(n,e.target)}},(0,l.createElement)("option",{value:""},(0,o.__)("Please select","mymovi")),t);case"checkbox":const h=[];for(let e=0;e<a.length;e++)h.push((0,l.createElement)("label",{key:e},(0,l.createElement)("input",{type:"checkbox",name:d,value:a[e],required:y,"data-mymovi-show-subfields":!0,onInput:e=>{(0,i.h)(n,e.target)}}),e<m.length?m[e]:a[e]," ",(0,l.createElement)("br",null)));return(0,l.createElement)(l.Fragment,null,h);case"radio":const v=[];for(let e=0;e<a.length;e++)v.push((0,l.createElement)("label",{key:e},(0,l.createElement)("input",{type:"radio",name:d,value:a[e],required:y,"data-mymovi-show-subfields":!0,onInput:e=>{(0,i.h)(n,e.target)}}),e<m.length?m[e]:a[e]," ",(0,l.createElement)("br",null)));return(0,l.createElement)(l.Fragment,null,v);default:return}}function u(e){const{type:t,name:n,label:a}={type:{key:"text"},name:"",label:"",...e};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"mymovi-form-field input-field type-"+t.key},(0,l.createElement)("label",null,a," ",(0,l.createElement)("br",null),c(e))),(0,l.createElement)("div",{id:"mymovi-"+n+"-subfields"},(0,l.createElement)(m.InnerBlocks.Content,null)))}const p=JSON.parse('{"UU":"mymovi/form-input"}');(0,a.registerBlockType)(p.UU,{edit:function({attributes:e,setAttributes:t}){const{type:n,name:a,label:i,options:c,option_texts:u,minlength:p,maxlength:y,min:d,max:h,step:v,required:b,show_on:g}={type:{key:"text",name:(0,o.__)("Text","mymovi")},name:"",label:"",options:[],option_texts:[],minlength:0,maxlength:0,min:0,max:0,step:0,required:!1,show_on:"",...e},_=[{key:"text",name:(0,o.__)("Text","mymovi")},{key:"textarea",name:(0,o.__)("Textarea","mymovi")},{key:"number",name:(0,o.__)("Number","mymovi")},{key:"range",name:(0,o.__)("Slider","mymovi")},{key:"select",name:(0,o.__)("Selection","mymovi")},{key:"checkbox",name:(0,o.__)("Checkboxes","mymovi")},{key:"radio",name:(0,o.__)("Radio buttons","mymovi")}];return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(m.InspectorControls,null,(0,l.createElement)(r.PanelBody,{title:(0,o.__)("Form Field Settings","mymovi")},(0,l.createElement)(r.CustomSelectControl,{label:(0,o.__)("Field type","mymovi"),options:_,value:n,onChange:e=>t({type:e.selectedItem})}),(0,l.createElement)(r.TextControl,{label:(0,o.__)("Internal Name (Unique)","mymovi"),value:a,onChange:e=>t({name:e})}),(0,l.createElement)(r.TextControl,{label:(0,o.__)("Label","mymovi"),value:i,onChange:e=>t({label:e})}),["range","select","checkbox","radio"].includes(n.key)&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.TextControl,{label:(0,o.__)("Options (internal names)","mymovi"),value:c,onChange:e=>t({options:e.split(",").map((e=>e.trim()))})}),(0,l.createElement)(r.TextControl,{label:(0,o.__)("Option names","mymovi"),value:u,onChange:e=>t({option_texts:e?e.split(",").map((e=>e.trim())):[]})})),["text","textarea"].includes(n.key)&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.TextControl,{label:(0,o.__)("Minimum Length","mymovi"),value:p,onChange:e=>t({minlength:parseInt(e)})}),(0,l.createElement)(r.TextControl,{label:(0,o.__)("Maxmium Length","mymovi"),value:y,onChange:e=>t({maxlength:parseInt(e)})})),["number","range"].includes(n.key)&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.TextControl,{label:(0,o.__)("Minimum Input","mymovi"),value:d,onChange:e=>t({min:parseInt(e)})}),(0,l.createElement)(r.TextControl,{label:(0,o.__)("Maximum Input","mymovi"),value:h,onChange:e=>t({max:parseInt(e)})}),(0,l.createElement)(r.TextControl,{label:(0,o.__)("Step Size","mymovi"),value:v,onChange:e=>t({step:parseInt(e)})})),["text","textarea","number","select","radio","checkbox"].includes(n.key)&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.ToggleControl,{label:(0,o.__)("Required","mymovi")+("checkbox"==n.key?" "+(0,o.__)("(requires all checkboxes to be checked)","mymovi"):""),checked:b,onChange:e=>t({required:e})})),(0,l.createElement)(r.TextControl,{label:(0,o.__)("Show on parent's value","mymovi"),value:g,onChange:e=>t({show_on:e})}))),(0,l.createElement)("div",{...(0,m.useBlockProps)()},""==g?s(e):(0,l.createElement)("details",{"data-mymovi-show-on":g},(0,l.createElement)("summary",null,(0,o.__)("Only shown on: ","mymovi")+g),s(e))))},save:function({attributes:e}){const{show_on:t}={show_on:"",...e};return(0,l.createElement)("div",{...m.useBlockProps.save()},""==t?u(e):(0,l.createElement)("div",{"data-mymovi-show-on":t,style:{display:"none"}},u(e)))}})},11:(e,t,n)=>{function a(e,t){const n=document.querySelectorAll("#mymovi-"+e+"-subfields [data-mymovi-show-on]");for(const e of n){const n=e.dataset.mymoviShowOn.split("||").includes(t.value),a=!["checkbox","radio"].includes(t.type)||t.checked;"checkbox"==t.type?n&&(e instanceof HTMLDetailsElement?e.open=a:e.style.display=a?"":"none"):e instanceof HTMLDetailsElement?e.open=n&&a:e.style.display=n&&a?"":"none"}}n.d(t,{h:()=>a}),window.addEventListener("load",(()=>{document.querySelectorAll("[data-mymovi-show-subfields]").forEach((e=>{e instanceof HTMLElement&&e.addEventListener("input",(t=>{a(e.name.replace("mymovi-field-",""),t.target)}))}))}))}},n={};function a(e){var l=n[e];if(void 0!==l)return l.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,n,l,o)=>{if(!n){var m=1/0;for(c=0;c<e.length;c++){for(var[n,l,o]=e[c],r=!0,i=0;i<n.length;i++)(!1&o||m>=o)&&Object.keys(a.O).every((e=>a.O[e](n[i])))?n.splice(i--,1):(r=!1,o<m&&(m=o));if(r){e.splice(c--,1);var s=l();void 0!==s&&(t=s)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,l,o]},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,552:0,350:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var l,o,[m,r,i]=n,s=0;if(m.some((t=>0!==e[t]))){for(l in r)a.o(r,l)&&(a.m[l]=r[l]);if(i)var c=i(a)}for(t&&t(n);s<m.length;s++)o=m[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},n=globalThis.webpackChunkmymovi_form_input=globalThis.webpackChunkmymovi_form_input||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=a.O(void 0,[350],(()=>a(93)));l=a.O(l)})();